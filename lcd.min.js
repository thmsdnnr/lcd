"use strict";var LCD=function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.numDigits,n=t.color,r=t.height,o=t.bgColor;if(!Number.isInteger(e)||e<1)throw new Error("Cannot have non-integral number of digits");this.backgroundColor=o,this.instanceID=++i,this.numDigits=e||3,this.GRAIN_COLOR=n||"#00FF00",this.height=r||"64",this.width=r/2,this.padding=8,this.digitsOn={0:[0,1,2,4,5,6],1:[2,5],2:[0,2,3,4,6],3:[0,2,3,5,6],4:[1,2,3,5],5:[0,1,3,5,6],6:[0,1,3,4,5,6],7:[0,2,5],8:[0,1,2,3,4,5,6],9:[0,1,2,3,5],A:[0,1,2,3,4,5],B:[1,3,4,5,6],C:[0,1,4,6],D:[2,3,4,5,6],E:[0,1,3,4,6],F:[0,1,3,4],H:[1,2,3,4,5],L:[1,4,6]},this.HIGH_OPACITY="1.0",this.LOW_OPACITY="0.15",this.value=null}var i=0;return t.prototype.getSize=function(){return this.numDigits},t.prototype.getValue=function(){return this.value},t.prototype.resetDigit=function(t){for(var i=0;i<=6;i++){var e="c_"+this.instanceID+"_d_"+t+"_"+i;document.querySelector("path#"+e).style.fillOpacity=this.LOW_OPACITY}},t.prototype.resetDisplay=function(){for(var t=0;t<this.numDigits;t++)this.resetDigit(t)},t.prototype.displayError=function(){this.resetDisplay(),this.setDigit(Math.max(this.numDigits-1,0),"E")},t.prototype.setDigit=function(t,i){var e=i.toUpperCase();if(!Object.keys(this.digitsOn).includes(e))throw this.displayError(),new Error("The counter can only display digits 0-9 and A-E!");for(var n=0;n<=6;n++){var r="c_"+this.instanceID+"_d_"+t+"_"+n,o=document.querySelector("path#"+r);this.digitsOn[e].includes(n)?o.style.fillOpacity=this.HIGH_OPACITY:o.style.fillOpacity=this.LOW_OPACITY}},t.prototype.setCounter=function(t){this.value=t;var i=String(t).split(""),e=this.numDigits;if(i.length>e)throw this.displayError(),new Error("The counter is not large enough to display "+t+"!");for(var n=e-i.length,r=e;r>=0;r--)i[r]&&this.setDigit(r+n,i[r])},t.prototype.init=function(t){var i=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lcd-container";if(!t)throw new Error("You must provide a DOM element container in which to mount the LCD.");this.domContainer=t,this.domContainer.classList.add(e);t.style.backgroundColor=this.backgroundColor,t.style.height=this.padding+this.height+"px",t.style.width=(this.padding+this.width)*this.numDigits+"px";for(var n=this.instanceID,r=0;r<this.numDigits;r++)t.appendChild(function(t,e){var n=["M2.1 2L.2 0h31.6l-1.9 2L28 4H4z","M0 16V1.2L2 3l1.9 2V29l-2 1-1.8.9z","M30 30l-2-1V5l2-1.9 2-2V31l-2-1z","M16 33.9H3.9l-1.9-1L.2 32l.2-.1 1.8-1 1.7-.8H28l1.9 1 1.8 1-1.9.9-1.9 1z","M0 48L.2 33l2 1 1.8 1v24l-2 1.8-1.8 2z","M30 60.9l-2-2V35l2-.9 2-1V62.9z","M1.5 62.6l1.9-2 .6-.5h24l1.4 1.4 1.9 1.9.5.5H.2z"];i.container=document.createElement("div"),i.container.id="container"+i.instanceID;var r=document.createElement("div");r.id="digit";var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 32 64"),o.setAttribute("width",i.width),o.setAttribute("height",i.height),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.appendChild(o);var s=document.createElementNS("http://www.w3.org/2000/svg","g");o.appendChild(s);for(var h=0;h<=6;h++){var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttributeNS(null,"id","c_"+e+"_d_"+t+"_"+h),l.setAttributeNS(null,"d",n[h]),l.setAttributeNS(null,"style","fill:"+i.GRAIN_COLOR+";fill-opacity:0.3;stroke:none"),s.appendChild(l)}return r}(r,n))},t.prototype.unmount=function(){var t=this;if(!this.domContainer)throw new Error("LCD has not been mounted!");var i="#"+this.domContainer.id+" div";document.querySelectorAll(i).forEach(function(i){return t.domContainer.removeChild(i)})},t}();